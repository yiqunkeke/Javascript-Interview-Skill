## 异常

异常就是程序在运行过程中出现的错误。

在 js 中，出现异常后，浏览器会给出一段错误码，即错误信息。

`TypeError`含义：如果代码访问的`数据类型错误`就会抛出该异常
`ReferenceError`含义： 当访问的`变量不存在`，会抛出该异常
`SyntaxError`含义：当`语法错误`的时候，会抛出该异常  （比如少写一个右括号）

异常的特点：一旦抛出异常，后面的代码就中断不执行了。

--------

### 如何处理异常？

就是要出现异常后还能继续执行

常见的异常有两大类：
1. 运行环境的多样性 ----> try-catch
2. 语法错误，代码错误

**try-catch 语法**
即尝试这么做，如果出现错误捕获错误
```
	...
	try {
		可能出现错误的代码
	} catch(e) {
		处理错误的代码
	}
	... 
```

1. 代码正常运行，如果在 try 中出现了错误， try里面出现错误的语句后面的代码都不再执行，直接跳转到catch中
2. catch 中处理错误信息
3. 然后，继续执行后面的代码
4. 如果 try 中没有错误，那么不走 catch，直接执行后面的代码


try-catch 只对运行环境错误有效，对语法错误和代码错误无效。
因为 js 的执行过程，分两步，第一步首先进行预处理，然后再运行。

-------


### 1. ReferenceError异常（非常重要的异常类型）

为什么区分 LHS 和 RHS 是一件重要的事情？因为在变量还没有声明（在任何作用域中都无法找到该变量）的情况下，这两种查询的行为是不一样的。

```
	function foo(a) {
		console.log(a + b);
		b = a;
	}
```

1. RHS查询：

第一次对 b 进行 RHS查询时是无法找到该变量的。也就蠊，这是一个`未声明`的变量，因为在任何相关的作用域中都无法找到它。
如果 RHS 查询在所有嵌套的作用域中都遍寻不到所需的变量，`引擎`就会抛出`ReferenceError`异常。

2. LHS查询：

* 非严格模式 - 当引擎执行 LHS 查询时，如果在顶层（全局作用域）中也无法找到目标变量，`全局作用域`中就会创建一个具有该名称的变量，并将其返还给引擎。
> “不，这个变量之前并不存在，但是我很热心地帮你创建了一个”

* ES5中的严格模式 - 严格模式`禁止自动创建`或`隐式创建`全局变量。

因此，在`严格模式`中，LHS 查询失败时，并不会创建并返回一个全局变量，`引擎`会抛出同 RHS 查询失败时类似的`ReferenceError`异常。

-----------------------------------------------------------------------------------------------------------------------

### 2. TypeError异常

如果 RHS查询找到了一个变量，但是你尝试对这个变量的值进行不合理的操作：
	
1. 比如，试图对一个非函数类型的值进行函数调用；
	
2. 或者引用 null 或 undefined 类型的值中的属性；

那么，`引擎`会抛出另一种类型的异常，叫作 `TypeError`。

-----------------------------------------------------------------------------------

总结： 

`ReferenceError`同作用域判别失败相关

`TypeError`代表作用域判别成功，但是`对结果操作非法`或`不合理`。


	
	
	